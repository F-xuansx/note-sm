<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title> from 171101 to </title>
    <style>
        .state-body{
            /*设成inline-block，横向可伸缩*/
            display: inline-block;
            background: deepskyblue;
            position: relative;
        }
        .state-tip{
            width: 5px;
            height: 5px;
            background: red;
            position: absolute;
            top: 0px;
            right: 0px;
        }
    </style>
</head>
<body>

    <!-- 1.状态小标签-->
    <div class="state-body">
        可以伸缩的文字
        <div class="state-tip"></div>
    </div>

<script>
    /*
        1.slice()
        截取的起点，截取的终点（不包含）
    */
    ;
    (function () {
        var arr1=[1,2,3,4,5,6]
        var result1=arr1.slice(-3,-1)
//        console.log(arr1)     //不变
//        console.log(result1)    //4,5

        var arr2=[1,2,3,4,5,6]
        var result2=arr2.slice(1,3)
//        console.log(arr2)
//        console.log(result2)    //2,3
    })()



        /* 2.split() */
    ;
    (function () {
        var str='hello,my name is huo'
        var result=str.split(',')
//        console.log('str:', str)
//        console.log('result:',result)   // ['hello','my name is huo']
//        console.log('result[0]:',result[0])     // hello
    })()


        /* 3.window.location.href */
    ;
    (function () {
//        window.location.href='http://www.baidu.com'
    })()


        /* 4.encodeURIComponent() */
    ;
    (function () {
        var str='霍士强'
        var result=encodeURIComponent(str)
//        console.log('encode:', result)
        result=decodeURIComponent(result)
//        console.log('decode', result)
    })()


        /* 5.reduce */
    ;
    (function () {
        var arr=[1,2,3,4,5]
        var result=arr.reduce(function(pre,item){
            return pre + (item>2?1:0)
        }, 0)
//        console.log('arr:', arr)    //不变
//        console.log('result:', result)  //3
    })()
    

        /* 6.filter */
    ;
    (function () {
        var arr=[1,2,3,4,5]
        var result=arr.filter(function (item, index) {
            return item>2
        })
//        console.log('arr', arr)     //不变
//        console.log('result', result)   // [3, 4, 5]
    })()


        /* 7.map() */
    ;
    (function () {
        var arr=[1,2,3,4,5]
        var result=arr.map(function (item, index) {
            return item*10
        })
//        console.log('arr', arr)
//        console.log('result', result)   // [10, 20, 30, 40, 50]
    })()


        /* 8.获取url里的参数 */
    ;
    (function () {
        function getUrl(name){
            var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
            var r = window.location.search.substr(1).match(reg);
            if(r!=null)return  unescape(r[2]); return null;
        }
        var result=getUrl('id')
//        console.log(result)
    })()


        /* 9.冒泡排序 */
    ;
    (function () {
        var arr=[1,3,5,3,7,8,2,4]
        function mySort(arr){
            var d
            for(var i= 0;i<arr.length;i++){
                for(var j=i;j<arr.length;j++){
                    if(arr[i]>arr[j]){
                        d=arr[i]
                        arr[i]=arr[j]
                        arr[j]=d
                    }
                }
            }
            return arr
        }
        var result=mySort(arr)
//        console.log('arr', arr)     //变化
//        console.log('result', result)   //排序
    })()


        /* 10.sort()排序 */
    ;
    (function () {
//        看起来挺不错的：
        var arr=[1,3,5,3,7,8,2,4]
        var result=arr.sort()
//        console.log('arr', arr)     //变化
//        console.log('result', result)   //从小到大
        var result=result.reverse()
//        console.log('result reverse()', result)     //相反

//        然而：
        var arr2=[100,12,34,200]
        var result2=arr2.sort()
//        console.log('result2', result2)     //[100,12,200,34]
//        因为默认情况下sort()方法是按照ASCII排序的

//        因此：
        var arr1=[100,12,34,200]
        var result1=arr1.sort(function(a, b){
            return a-b    //正序  [12, 34, 100, 200]
//            return b-a      //倒序
        })
//        console.log('result1', result1)
    })()


        /* 11.快速排序 */
    ;
    (function () {
        var arr=[100,12,34,200,31,55,99]
        function quickSort(arr){
            //如果数组<=1,则直接返回
            if(arr.length<=1){return arr;}
            var pivotIndex=Math.floor(arr.length/2);
            //找基准，并把基准从原数组删除
            var pivot=arr.splice(pivotIndex,1)[0];
            //定义左右数组
            var left=[];
            var right=[];

            //比基准小的放在left，比基准大的放在right
            for(var i=0;i<arr.length;i++){
                if(arr[i]<=pivot){
                    left.push(arr[i]);
                }
                else{
                    right.push(arr[i]);
                }
            }
            //递归
            return quickSort(left).concat([pivot],quickSort(right));
        }
        var result=quickSort(arr)
//        console.log('arr', arr)
//        console.log('result', result)
    })()


        /* 12.希尔排序 */
    ;
    (function () {
        var arr=[100,12,34,200,31,55,99]
        function shellSort(arr){
            var N=arr.length;
            var h=1;
            while(h<N/3){
                h=3*h+1;//设置间隔
            }
            while(h>=1){
                for(var i=h; i<N; i++){
                    for(j=i; j>=h && arr[j]<arr[j-h]; j-=h){
                        swap(arr, j, j-h);
                    }
                }
                h=(h-1)/3;
            }
        }
        function swap(array, i, j){//两个数调换
            var temp =array[j];
            array[j]=array[i];
            array[i]=temp;
        }
        var result=shellSort(arr)
//        console.log('arr:', arr)    //正序
//        console.log('result:', result)      //无返回值
    })()


        /* 数组方法大全： */
        /* 13.join() */
    ;
    (function () {
        var arr=[1,3,4]
        var result=arr.join()
        var result2=arr.join('-')
//        console.log('arr:', arr)
//        console.log('result join()', result)    //1,2,3
//        console.log('result join("-")', result2)

//        利用join创建一个可以复制字符串的函数
        var str='闪萌'
        function repeatStr(str){
            return new Array(20).join(str)
        }
        var result3=repeatStr(str)
//        console.log('repeatStr:', result3)    //20个‘闪萌’
    })()
    

        /* 14.push() pop() unshift() shift() */
    ;
    (function () {
        var arr1=[1,2,3]
        var arr2=[4,5,6]
        var result=arr1.push(arr2)
//        console.log('arr1', arr1)   // [1,2,3,Array(3)]
//        console.log('arr1.push(arr2) :', result)    // 返回数量

        var arr=[11,22,33]
        ;[].push.apply(arr,arr2)    // [11,22,33,4,5,6]
//        console.log('arr', arr)

    })()


        /* 15.concat() */
    ;
    (function () {
        var arr1=[1,2,3]
        var arr2=[4,5,6]
        var result=arr1.concat(arr2)
//        console.log('arr', arr1)
//        console.log('arr1.concat(arr2)', result)
//        console.log('arr1.concat([11,111][22,222])', arr1.concat([11,111],[22,222]))    // 1,2,3,11,111,22,222
    })()


        /* 16.splice() */
    ;
    (function () {
        var arr=[1,2,3,4,5,6]
        var result1=arr.splice(2,0,'hi')    // [1,2,'hi',3,4,5,6]
        arr.splice(2,1,'hello')     // [1,2,'hello',3,4,5,6]
        arr.splice(2,1)     // [1,2,3,4,5,6]
//        console.log('arr', arr)
//        console.log('arr.splice(2,0,"hi")',result1)     //splice()无返回值
        arr.splice(-3,2)
//        console.log('arr.splice(-3,2):', arr)     // [1,2,3,6]
    })()


        /* 17.indexOf()  lastIndexOf() */
    ;
    (function () {
        var arr=[1,2,3,4,2,4,3]
        var result=arr.indexOf(3)   //2
        var result3=arr.indexOf(3,2)    //2
        var result4=arr.indexOf(3,3)    //6 (找第一个3，从index为3的地方开始找)
        var result2=arr.lastIndexOf(3)  //6
        var result5=arr.lastIndexOf(3,6)    //6
        var result6=arr.lastIndexOf(3,5)    //2 （找最后一个3，截止到index为3的地方）
//        console.log(result6)
    })()
    

        /* 18.forEach() */
    ;
    (function () {
        var arr=[1,2,3,4,2,4,3]
        var result=arr.forEach(function (item, index) {
//            console.log(item, index)      //执行逻辑
        })
//        console.log('arr', arr)   //原数组不变
//        console.log('result', result)   //forEach()也没有返回值
    })()


        /* 19.every() some() */
    ;
    (function () {
        var arr=[1,2,3,4,2,4,3]
//        every(): 都符合条件返回true
        var result=arr.every(function (item, index) {
            return item>0
        })
//        console.log(result)

//        some(): 只要有一个符合条件就返回true
        var result2=arr.some(function (item, index){
            return item>3
        })
//        console.log(result2)
    })()


        /* 20.includes() */
    ;
    (function () {
        var arr=[1,2,3,4,2,4,3]
        var str='hello world'
        var result=arr.includes(2)
        var result2=str.includes('wor')
//        console.log(result);    // true
//        console.log(result2)    // true
    })()



        /* 21.移动端解决ios滑动卡顿 */
    ;
    (function () {
//        在滑动项？上添加样式：
//        -webkit-overflow-scrolling: touch;
    })()



        /* 22.parseInt() */
    ;
    (function () {
        var num = 111
        var res1 = parseInt(num)
//        console.log('res1:', res1)    //111
        var res2 = parseInt(num, 2)
//        第二个参数表示以几进制解析
//        console.log('res2', res2)     //7

        var numWithStr = '123.4abc'
        var res3 = parseInt(numWithStr)
//        console.log('res3:', res3)  //123
        var res4 = parseFloat(numWithStr)
//        console.log('res4:', res4)  //123.4
        var res5 = +numWithStr
//        console.log('res5:', res5)  //NaN
    })()



        /* 23.charAt toUpperCase replace */
    ;
    (function () {
        var str = '我爱北京天安门 i love beijing'
        var res1 = str.charAt(0)
//        console.log('res1', res1)
        var res2 = str.toUpperCase()
//        console.log('res2:', res2)
        var res3 = str.replace('我爱', '我想去')
//        console.log('res3:', res3)
    })()



        /* 24.switch */
    ;
    (function () {
        var num = '2'
//        case后面的和num的比较是===全等比较
        switch (num){
            case 1:
                console.log('1')
                break
            case 2:
                console.log('2')
//                break
            case 3:
                console.log('3')
                break
            default :
//                console.log('default')
        }
    })()



        /* 25.数组的长度 */
    ;
    (function () {
        var arr = ['item1', 'item2']
//        console.log('arr.length:', arr.length)  //2
        arr[99] = 'item3'
//        console.log('arr.length:', arr.length)  //100
//        console.log(typeof(arr[98]))
    })()



        /* 26.undefined运算 */
    ;
    (function () {
//        console.log(undefined+1)
//        console.log(undefined+'1')
//        console.log(NaN+1)
//        console.log(NaN+'1')
    })()



        /* 27.symbol() */
    ;
    (function () {
        var s = Symbol()
//        console.log('typeof s:', typeof s)
        var s1 = Symbol('haha')
//        console.log('typeof s1:', typeof s1)
        s1.toString()
//        console.log('s1:', s1)

        var a = Symbol('a')
        var b = Symbol('a')
//        console.log('a:', a)        //Symbol(a)
//        console.log('b:', b)        //Symbol(a)
//        console.log('==?', a==b)    //false
//        console.log('===?', a===b)  //false

        setTimeout(()=>{
//            console.log('es6')
        }, 3000)
    })()



        /* 28.for in 和 for of */
//    for in用于遍历对象(如果遍历数组，会遍历数组的所有可遍历属性，包括原型)
//    for of可以用于遍历数组，遍历的值
//    foreach遍历的时候，既不能用break终止遍历，又不能用return跳到外层函数
    ;
    (function () {
        var obj = {
            name: '小强',
            age: 18
        }
        for (key in obj){
//            console.log('key:', key)
//            console.log('value:', obj[key]) //小强 18
        }

        var arr = [1, 2, 5, 9, 4]
        for(value of arr){
//            console.log('value:', value)       //1 2 5 9 4
        }



        arr.forEach(function(value){
            if(value == 5){
                return
            }
//            console.log(value)  // 1 2 9 4
//            这里的return没有使其跳到外层函数，而是跳出了本次的遍历，继续下一次的遍历
        })

        arr.filter(function (value) {
            if(value == 5){
                return
            }
//            console.log(value)  // 1 2 9 4
//            这里也是？
        })
    })()
</script>
</body>
</html>